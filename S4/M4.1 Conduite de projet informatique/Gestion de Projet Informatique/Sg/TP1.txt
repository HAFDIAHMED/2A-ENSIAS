ATELIER 1:---------------------------------------------------------------

1) Par défaut, l'utilisateur scott est vérouiller . Pour le déverouiller je rentre en tant qu'admin 
et le déverouille

--se connecter en tant qu'admin
sqlplus / as sysdba

--déverouiller le compte scott
alter user scott account unlock;

 
se connecter avec l'user  
connect scott/tiger 

--vérifier qu'on est bien connecté avec Scott
show user

2) 
--voir la structure de la table scott.emp
desc scott.emp;

-voir les salaires avant modification
select sal
from scott.emp;

--mettre les salaires de tous les employés à 1000
update scott.emp
set sal=1000;

3)
--vérifier les salaires 
select sal
from scott.emp;

4) fermer en cliquant sur la croix.

5)
--se connecter en tant que scott/tiger
sqlplus scott/tiger
--vérifier la mise à jour des salaires de scott.emp
select sal
from scott.emp;

Remarque: les salaires n'ont pas changé parce qu'in retrait brusque ne veut pas dire commit.
Il y'a nettoyage de l'environnement


6)
--mettre les salaires de tous les employés à 1000
update scott.emp
set sal=1000;

--vérifier les salaires 
select sal
from scott.emp;

7) 
--disconnect

8)
--connect scott/tiger

--vérifier les salaires 
select sal
from scott.emp;

Remarque: les salaires on changé parce que la commande disconnect="commit explicite"

9) 
--mettre les salaires de tous les employés à 5000
update scott.emp
set sal=5000;

10)
--créer la table Client
create table Client(prenom char(50), nom char(50));

11) fermer en cliquant sur la croix

12)
--se connecter avec scott/tiger
sqlplus scott/tiger

--vérifier les salaires 
select sal
from scott.emp;

Remarque: les modifications des salires a été pris en compte suite à la question 10) 
select= "commit implicite" car c'est une transaction=bloc

13) 
--mettre les salaires de tous les employés à 3000
update scott.emp
set sal=3000;

14) 
--ouvrir une nouvelle fénêtre en mode administrateur

--se connecter en tant que "sys"
sqlplus / as sysdba

--afficher les salaires de scott.emp
select sal
from scott.emp;

Remarque: les salaires n'ont pas été modifiés car on a deux images l'une sur le segment 
et l'autre dans le log mais comme scott/tiger n'a pas encore fait un commit soit implicite
ou explicite, il y'a encore le verrou et la valeur la plus valide est celle sur le segment
c'est cette dernière que verra les autres utilisateurs.


15) 
--valider les modifications avec la console de scott/tiger
commit;

16)
--afficher les salaires de scott.emp
select sal
from scott.emp;

Remarque: les salaires ont été modifés car scott/tiger les a enfin validés et ils sont à 
présent sur ......






ATELIER 2:---------------------------------------------------------------
1) 
--se connecter avec scott/tiger
sqlplus scott/tiger

2)
--voir la structure de scott.emp pour void l'ID de ADAMS car il est le seul conserné par la modif'
select *
from scott.emp;

--modifier l'affichage pour qu'il soit cohérent. On va reduire le champ COMM
column comm format 99999

--voir maitenant la structure de scott.emp de ADAMS
select *
from scott.emp;

--mettre le salaire de ADAMS à 5000
update scott.emp
set sal=5000
where empno=7876;

3) 
--se connecter avec scott/tiger
sqlplus scott/tiger

4)
-mettre le nom de ADAMS à AHMED
update scott.emp
set ename='ahmed'
where empno=7876;


--déduction
y'a pas de modification car les autres utilisateurs sont entrain de regarder le segment ROLLBACk 
tandis que scott/tiger est entrain de regarder la RAM. Il faut un commit pour la valider


5) 
--se connecter avec scott/tiger
sqlplus scott/tiger



--voir la structure de scott.emp pour void l'ID de ADAMS car il est le seul conserné par la modif'
select *
from scott.emp;

--modifier l'affichage pour qu'il soit cohérent. On va reduire le champ COMM
column comm format 99999

--voir maitenant la structure de scott.emp de ADAMS
select *
from scott.emp;

--mettre le salaire de SMITH à 150
update scott.emp
set sal=150
where empno=7369;



--déduction
y'a pas de modification car les autres utilisateurs sont entrain de regarder le segment ROLLBACk 
tandis que scott/tiger est entrain de regarder la RAM. Il faut un commit pour la valider

--valider dans la console scott/tiger 1
commit;

--mettre le nom de ADAMS à AHMED
update scott.emp
set ename='ahmed';


Remarque: la console se bloque car il y'a déjà une modification en attente qui n'a pas encore été
commiter






